<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>DEVSOFT — Cookies</title>
  <link rel="icon" href="/favicon.svg" type="image/svg+xml">
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <main class="card">
    <header class="topbar">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <h1>DEVSOFT</h1>
          <p class="tagline" data-i18n="cookiesTag">Cookies Policy</p>
        </div>
      </div>
      <nav class="lang" aria-label="Language">
        <button class="lang-btn" data-lang="pl" aria-pressed="true">PL</button>
        <button class="lang-btn" data-lang="en" aria-pressed="false">EN</button>
        <button class="lang-btn" data-lang="sk" aria-pressed="false">SVK</button>
      </nav>
    </header>

    <section class="content">
      <div class="block">
        <h2 data-i18n="cookiesWhatTitle">What cookies are used</h2>
        <ul class="bullets">
          <li><strong>devsoft_lang</strong> — <span data-i18n="cookiesLang">stores your language preference (functional).</span></li>
          <li><strong>devsoft_consent</strong> — <span data-i18n="cookiesConsent">stores your cookie banner choice (functional).</span></li>
        </ul>
      </div>

      <div class="block">
        <h2 data-i18n="cookiesNoTrackingTitle">No tracking</h2>
        <p class="muted" data-i18n="cookiesNoTrackingBody">
          DEVSOFT does not use analytics, advertising pixels, or third-party tracking scripts.
        </p>
      </div>

      <div class="block">
        <h2 data-i18n="cookiesManageTitle">How to manage cookies</h2>
        <p class="muted" data-i18n="cookiesManageBody">
          You can delete cookies in your browser settings. Disabling functional cookies may affect language preference.
        </p>
      </div>

      <footer class="footer">
        <div class="footer-left">
          <a href="/" data-i18n="backHome">Back to home</a>
        </div>
        <div class="footer-right muted">kontakt@devsoft.dev</div>
      </footer>
    </section>
  </main>

  <script>
    const I18N = {
      pl: {
        cookiesTag: "Polityka cookies",
        cookiesWhatTitle: "Jakie cookies są używane",
        cookiesLang: "zapamiętuje preferencję języka (funkcjonalne).",
        cookiesConsent: "zapamiętuje wybór z bannera cookies (funkcjonalne).",
        cookiesNoTrackingTitle: "Brak śledzenia",
        cookiesNoTrackingBody: "DEVSOFT nie używa analityki, pikseli reklamowych ani skryptów śledzących stron trzecich.",
        cookiesManageTitle: "Jak zarządzać cookies",
        cookiesManageBody: "Możesz usunąć cookies w ustawieniach przeglądarki. Wyłączenie funkcjonalnych cookies może wpłynąć na zapamiętanie języka.",
        backHome: "Powrót na stronę główną"
      },
      en: {
        cookiesTag: "Cookies Policy",
        cookiesWhatTitle: "What cookies are used",
        cookiesLang: "stores your language preference (functional).",
        cookiesConsent: "stores your cookie banner choice (functional).",
        cookiesNoTrackingTitle: "No tracking",
        cookiesNoTrackingBody: "DEVSOFT does not use analytics, advertising pixels, or third-party tracking scripts.",
        cookiesManageTitle: "How to manage cookies",
        cookiesManageBody: "You can delete cookies in your browser settings. Disabling functional cookies may affect language preference.",
        backHome: "Back to home"
      },
      sk: {
        cookiesTag: "Cookies",
        cookiesWhatTitle: "Aké cookies sa používajú",
        cookiesLang: "ukladá preferenciu jazyka (funkčné).",
        cookiesConsent: "ukladá voľbu z cookie bannera (funkčné).",
        cookiesNoTrackingTitle: "Žiadne sledovanie",
        cookiesNoTrackingBody: "DEVSOFT nepoužíva analytiku, reklamné pixely ani sledovacie skripty tretích strán.",
        cookiesManageTitle: "Ako spravovať cookies",
        cookiesManageBody: "Cookies môžete vymazať v nastaveniach prehliadača. Vypnutie funkčných cookies môže ovplyvniť preferenciu jazyka.",
        backHome: "Späť na úvod"
      }
    };

    function setLang(lang){
      const dict = I18N[lang] || I18N.en;
      document.documentElement.lang = lang;
      document.querySelectorAll("[data-i18n]").forEach(el=>{
        const k = el.getAttribute("data-i18n");
        if (dict[k]) el.textContent = dict[k];
      });
      document.querySelectorAll(".lang-btn").forEach(btn=>{
        btn.setAttribute("aria-pressed", btn.dataset.lang===lang ? "true" : "false");
      });
      document.cookie = `devsoft_lang=${encodeURIComponent(lang)}; Max-Age=${365*24*60*60}; Path=/; SameSite=Lax`;
    }

    const savedLang = decodeURIComponent((document.cookie.split("; ").find(x=>x.startsWith("devsoft_lang="))||"").split("=")[1]||"");
    const nav = (navigator.language||"en").toLowerCase();
    const defaultLang = nav.startsWith("pl") ? "pl" : nav.startsWith("sk") ? "sk" : "en";
    setLang(savedLang || defaultLang);

    document.querySelectorAll(".lang-btn").forEach(btn=>{
      btn.addEventListener("click", ()=> setLang(btn.dataset.lang));
    });
  </script>
</body>
</html>
